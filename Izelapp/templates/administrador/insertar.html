{% extends 'base.html' %}
{% load static %}

{% block title %}
    Crear Administrador
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/usuario/insertar.css' %}">

    <h2>Registro de administrador</h2>
    {% if messages %}
    <div class="messages">
      {% for message in messages %}
        <p class="message">{{ message }}</p>
      {% endfor %}
    </div>
    {% endif %}
<form method="post" enctype="multipart/form-data">
  {% csrf_token %}
  {% for field in formulario %}
  <div class="form-row">
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    {{ field }}
    {% if field.help_text %}
      <span class="help-text">{{ field.help_text }}</span>
    {% endif %}
  </div>
{% endfor %}


  <!-- Dropdown de Centros de Administración -->
  <label for="centro_administracion">Centro de Administración</label>
  <select id="centro_administracion" name="centro_administracion" onchange="actualizarPermisos()">
      <option value="ODONTOLOGIA">ODONTOLOGIA</option>
      <option value="CIRUGIA">CIRUGIA</option>
      <option value="GENERAL">GENERAL</option>
      <option value="RAYOS_X">RAYOS_X</option>
  </select>

  <!-- Permisos Autocompletados -->
  <div id="permisos_container" style="margin-top: 20px;">
      <h3>Permisos</h3>
      <label><input type="checkbox" name="ver_pacientes"> Ver Pacientes</label><br>
      <label><input type="checkbox" name="editar_pacientes"> Editar Pacientes</label><br>
      <label><input type="checkbox" name="ver_historia_clinica"> Ver Historia Clínica</label><br>
      <label><input type="checkbox" name="realizar_tratamientos"> Realizar Tratamientos</label><br>
      <label><input type="checkbox" name="gestion_usuarios"> Gestión de Usuarios</label><br>
      <label><input type="checkbox" name="realizar_cirugia"> Realizar Cirugía</label><br>
      <label><input type="checkbox" name="realizar_imagenes"> Realizar Imágenes</label><br>
  </div>

  <button type="submit">Registrar administrador</button>
</form>

<script src="{% static 'js/administrador.js' %}"></script>
{% endblock %}
