{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/usuario/lista.css' %}">

  <h2>Lista de Usuarios</h2>
  
  <table>
    <thead>
      <tr>
        <th>Username</th>
        <th>Tipo de Documento</th>
        <th>Número de Documento</th>
        <th>Nombres</th>
        <th>Apellidos</th>
        <th>Correo</th>
        <th>Telefono</th>
        <th>Eps</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for usuario in usuarios %}
        <tr>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.tipo_doc }}</td>
          <td>{{ usuario.num_doc }}</td>
          <td>{{usuario.first_name }}</td>
          <td>{{usuario.last_name }}</td>
          <td>{{usuario.email }}</td>
          <td>{{usuario.telefono }}</td>
          <td>{{usuario.eps }}</td>

          <td>
            <a href="{% url 'actualizar_usuario' usuario.id %}">Actualizar</a> |
            <a href="{% url 'eliminar_usuario' usuario.id %}" onclick="return confirm('¿Estás seguro de eliminar este usuario?');">Eliminar</a>
          </td>
        </tr>
      {% empty %}
    <tr>
      <tfoot colspan="1">No hay usuarios registrados</tfoot>
    </tr>
      {% endfor %}
    </tbody>
  </table>

  <p>Cantidad: {{ conteo }}</p>

  <br>
  
  <div class="contenedor-boton">
    <a href="{% url 'registrar_usuario' %}">
      <button>Registrar nuevo usuario</button>
    </a>
  </div>
{% endblock %}
