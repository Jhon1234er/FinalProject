{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bienvenido a Izel{% endblock %}</title>
    <!-- IMPLEMENTACION DE SELECT2 - CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>
<body>

    <header>
        <nav>
            <ul class="nav-list">
                {% if request.user.is_authenticated %}
                    <!-- Verifica si el usuario es 'Medico', 'Paciente' o un usuario común -->
                    {% if request.user.medico %}
                        <li><a href="#">Consultar historias clínicas</a></li>
                        <li><a href="{% url 'perfil_medico' %}">Ver mi perfil médico</a></li>
                    {% elif request.user.paciente %}
                        <li><a href="#">Ver mi perfil</a></li>
                        <li><a href="#">Solicitar cita médica</a></li>
                    {% elif request.user.is_staff %}
                        <!-- Para usuarios Staff (IT), mostrar enlaces de administración -->
                        <li><a href="{% url 'registrar_empleado' %}">Crear Empleado</a></li>
                        <li><a href="{% url 'listar_it' %}">Listar IT</a></li>
                        <li><a href="{% url 'listar_empleado' %}">Listar Empleados</a></li>
                        <li><a href="{% url 'listar_administrador' %}">Listar Administradores</a></li>
                        <li><a href="{% url 'listar_medico' %}">Listar Médicos</a></li>
                    {% else %}
                        <!-- Si es un usuario común, solo muestra la opción de ver sus datos -->
                        <li><a href="{% url 'detallar_usuario' %}">Ver mis datos de usuario</a></li>
                    {% endif %}
                    <li><a href="{% url 'logout' %}">Cerrar sesión</a></li>
                {% else %}
                    <!-- Si no está autenticado, muestra opciones de inicio y registro -->
                    <li><a href="{% url 'home' %}">Inicio</a></li>
                    <li><a href="{% url 'listar_usuarios' %}">Listar usuarios</a></li>
                    <li><a class="login-btn" href="{% url 'login' %}">Iniciar sesión</a></li>                  
                {% endif %}
            </ul>
        </nav>
    </header>

    <main>
        {% block content %}
        <!-- Aquí se insertará el contenido de las páginas específicas -->
        {% endblock %}
    </main>

    <footer>
        <p class="footer">2025 - IZEL APP - Derechos reservados</p>
    </footer>
    <!-- IMPLEMENTACION DE JS DE SELECT2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <!-- Habilitar Select2 para los campos select -->
    <script>
        $(document).ready(function() {
            // Activar Select2 en los campos select
            $('select').select2({
                placeholder: "Selecciona una opción",
                allowClear: true
            });
        });
    </script>

</body>
</html>
